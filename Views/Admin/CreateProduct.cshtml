@model LaptopShopWebsite.Models.Product
@{
    ViewData["Title"] = "Thêm sản phẩm mới";
    Layout = "_AdminLayout";
}

<div class="max-w-4xl mx-auto">
    <div class="bg-white rounded-lg shadow-md p-8">
        <div class="flex items-center justify-between mb-6">
            <h2 class="text-2xl font-semibold">Thêm sản phẩm mới</h2>
            <a asp-action="Products" class="text-gray-600 hover:text-gray-800 flex items-center space-x-2">
                <i data-lucide="arrow-left" class="h-4 w-4"></i>
                <span>Quay lại</span>
            </a>
        </div>

        <form asp-action="CreateProduct" method="post" class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Basic Info -->
                <div class="space-y-4">
                    <h3 class="text-lg font-medium text-gray-900">Thông tin cơ bản</h3>
                    
                    <div>
                        <label asp-for="Name" class="block text-sm font-medium text-gray-700 mb-2">Tên sản phẩm *</label>
                        <input asp-for="Name" type="text" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                        <span asp-validation-for="Name" class="text-red-500 text-sm"></span>
                    </div>

                    <div>
                        <label asp-for="Brand" class="block text-sm font-medium text-gray-700 mb-2">Thương hiệu *</label>
                        <select asp-for="Brand" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Chọn thương hiệu</option>
                            <option value="Apple">Apple</option>
                            <option value="Dell">Dell</option>
                            <option value="ASUS">ASUS</option>
                            <option value="HP">HP</option>
                            <option value="Lenovo">Lenovo</option>
                            <option value="MSI">MSI</option>
                            <option value="Acer">Acer</option>
                            <option value="Microsoft">Microsoft</option>
                            <option value="Alienware">Alienware</option>
                            <option value="Razer">Razer</option>
                            <option value="LG">LG</option>
                            <option value="Framework">Framework</option>
                            <option value="Gigabyte">Gigabyte</option>
                            <option value="Huawei">Huawei</option>
                        </select>
                        <span asp-validation-for="Brand" class="text-red-500 text-sm"></span>
                    </div>

                    <div>
                        <label asp-for="Category" class="block text-sm font-medium text-gray-700 mb-2">Danh mục *</label>
                        <select asp-for="Category" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Chọn danh mục</option>
                            <option value="Gaming">Gaming</option>
                            <option value="Business">Business</option>
                            <option value="Ultrabook">Ultrabook</option>
                            <option value="Professional">Professional</option>
                            <option value="Workstation">Workstation</option>
                            <option value="Convertible">Convertible</option>
                            <option value="Budget">Budget</option>
                            <option value="Premium">Premium</option>
                            <option value="Creator">Creator</option>
                            <option value="Modular">Modular</option>
                        </select>
                        <span asp-validation-for="Category" class="text-red-500 text-sm"></span>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label asp-for="Price" class="block text-sm font-medium text-gray-700 mb-2">Giá bán *</label>
                            <input asp-for="Price" type="number" step="0.01" required 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                            <span asp-validation-for="Price" class="text-red-500 text-sm"></span>
                        </div>
                        <div>
                            <label asp-for="OriginalPrice" class="block text-sm font-medium text-gray-700 mb-2">Giá gốc</label>
                            <input asp-for="OriginalPrice" type="number" step="0.01" 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                            <span asp-validation-for="OriginalPrice" class="text-red-500 text-sm"></span>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label asp-for="InStock" class="block text-sm font-medium text-gray-700 mb-2">Số lượng tồn kho *</label>
                            <input asp-for="InStock" type="number" min="0" required 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                            <span asp-validation-for="InStock" class="text-red-500 text-sm"></span>
                        </div>
                        <div>
                            <label asp-for="Rating" class="block text-sm font-medium text-gray-700 mb-2">Đánh giá</label>
                            <input asp-for="Rating" type="number" step="0.1" min="0" max="5" 
                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                            <span asp-validation-for="Rating" class="text-red-500 text-sm"></span>
                        </div>
                    </div>

                    <div>
                        <label asp-for="Reviews" class="block text-sm font-medium text-gray-700 mb-2">Số lượng đánh giá</label>
                        <input asp-for="Reviews" type="number" min="0" 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                        <span asp-validation-for="Reviews" class="text-red-500 text-sm"></span>
                    </div>

                    <div class="flex items-center">
                        <input asp-for="Featured" type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" />
                        <label asp-for="Featured" class="ml-2 block text-sm text-gray-900">Sản phẩm nổi bật</label>
                    </div>
                </div>

                <!-- Technical Specs -->
                <div class="space-y-4">
                    <h3 class="text-lg font-medium text-gray-900">Thông số kỹ thuật</h3>
                    
                    <div>
                        <label asp-for="Processor" class="block text-sm font-medium text-gray-700 mb-2">Bộ xử lý *</label>
                        <input asp-for="Processor" type="text" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                        <span asp-validation-for="Processor" class="text-red-500 text-sm"></span>
                    </div>

                    <div>
                        <label asp-for="Ram" class="block text-sm font-medium text-gray-700 mb-2">RAM *</label>
                        <input asp-for="Ram" type="text" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                        <span asp-validation-for="Ram" class="text-red-500 text-sm"></span>
                    </div>

                    <div>
                        <label asp-for="Storage" class="block text-sm font-medium text-gray-700 mb-2">Ổ cứng *</label>
                        <input asp-for="Storage" type="text" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                        <span asp-validation-for="Storage" class="text-red-500 text-sm"></span>
                    </div>

                    <div>
                        <label asp-for="Graphics" class="block text-sm font-medium text-gray-700 mb-2">Card đồ họa *</label>
                        <input asp-for="Graphics" type="text" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                        <span asp-validation-for="Graphics" class="text-red-500 text-sm"></span>
                    </div>

                    <div>
                        <label asp-for="Display" class="block text-sm font-medium text-gray-700 mb-2">Màn hình *</label>
                        <input asp-for="Display" type="text" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                        <span asp-validation-for="Display" class="text-red-500 text-sm"></span>
                    </div>

                    <div>
                        <label asp-for="Image" class="block text-sm font-medium text-gray-700 mb-2">URL hình ảnh chính *</label>
                        <input asp-for="Image" type="url" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" />
                        <span asp-validation-for="Image" class="text-red-500 text-sm"></span>
                    </div>

                    <div>
                        <label asp-for="ImagesJson" class="block text-sm font-medium text-gray-700 mb-2">URLs hình ảnh (JSON Array)</label>
                        <textarea asp-for="ImagesJson" rows="3" placeholder='["url1", "url2", "url3"]'
                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                        <span asp-validation-for="ImagesJson" class="text-red-500 text-sm"></span>
                    </div>
                </div>
            </div>

            <!-- Description -->
            <div>
                <label asp-for="Description" class="block text-sm font-medium text-gray-700 mb-2">Mô tả sản phẩm *</label>
                <textarea asp-for="Description" rows="4" required 
                          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                <span asp-validation-for="Description" class="text-red-500 text-sm"></span>
            </div>

            <!-- Specifications JSON -->
            <div>
                <label asp-for="SpecificationsJson" class="block text-sm font-medium text-gray-700 mb-2">Thông số kỹ thuật chi tiết (JSON)</label>
                <textarea asp-for="SpecificationsJson" rows="6" placeholder='{"Processor": "Intel Core i7", "Memory": "16GB RAM", ...}'
                          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                <span asp-validation-for="SpecificationsJson" class="text-red-500 text-sm"></span>
            </div>

            <!-- Submit Buttons -->
            <div class="flex justify-end space-x-4 pt-6 border-t">
                <a asp-action="Products" class="px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">
                    Hủy
                </a>
                <button type="submit" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                    Thêm sản phẩm
                </button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script>
        lucide.createIcons();
        
        // Set default values
        document.addEventListener('DOMContentLoaded', function() {
            if (!document.getElementById('ImagesJson').value) {
                document.getElementById('ImagesJson').value = '[]';
            }
            if (!document.getElementById('SpecificationsJson').value) {
                document.getElementById('SpecificationsJson').value = '{}';
            }
        });
    </script>
}